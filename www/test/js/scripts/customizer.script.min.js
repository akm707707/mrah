"use strict";

$(document).ready(function () {
  var $appAdminWrap = $(".app-admin-wrap");
  var $html = $('html');
  var $customizer = $('.customizer');
  var $sidebarColor = $('.sidebar-colors a.color'); // Change sidebar color
  var $btn = $('.card-header .btn'); // Change sidebar color
  var $btn1 = $('.btn.addws, .btn.fetchws'); // Change sidebar color
  var $checkmark = $('.checkmark'); // Change sidebar color
  var $radio = $('.radio'); // Change sidebar color
  var $checkbox = $('.checkbox'); // Change sidebar color
  var $outlinebtn = $('.pressable'); // Change sidebar color
  // var $outlinebtn = $('.btn'); // Change sidebar color
  var $handle = $('.handle'); // Change sidebar color
  var $susbill = $('div[class^="susbill"]'); // Change sidebar color
	
  $sidebarColor.on('click', function (e) {
	var $paginationa = $('.pagination'); // Change sidebar color
	var $eyeicon = $('.card-footer .ul-btn__icon'); // Change sidebar color
	var $th = $('th'); // Change sidebar color
	e.preventDefault();
    $appAdminWrap.removeClass(function (index, className) {
      return (className.match(/(^|\s)sidebar-\S+/g) || []).join(' ');
    });

	$btn.removeClass(function (index, className) {
      return (className.match(/(^|\s)btn-sidebar-\S+/g) || []).join(' ');
    });
	
	$btn1.removeClass(function (index, className) {
      return (className.match(/(^|\s)btn-sidebar-\S+/g) || []).join(' ');
    });

	$checkmark.removeClass(function (index, className) {
      return (className.match(/(^|\s)checkmark-sidebar-\S+/g) || []).join(' ');
    });
	$radio.removeClass(function (index, className) {
      return (className.match(/(^|\s)radio-sidebar-\S+/g) || []).join(' ');
    });
	$checkbox.removeClass(function (index, className) {
      return (className.match(/(^|\s)checkmark-sidebar-\S+/g) || []).join(' ');
    });

	$paginationa.removeClass(function (index, className) {
      return (className.match(/(^|\s)pagination-sidebar-\S+/g) || []).join(' ');
    });

	$eyeicon.removeClass(function (index, className) {
      return (className.match(/(^|\s)icon-sidebar-\S+/g) || []).join(' ');
    });

	$th.removeClass(function (index, className) {
      return (className.match(/(^|\s)th-sidebar-\S+/g) || []).join(' ');
    });
	
	$outlinebtn.removeClass(function (index, className) {
      return (className.match(/(^|\s)outlinebtn-sidebar-\S+/g) || []).join(' ');
    });
	
	$handle.removeClass(function (index, className) {
      return (className.match(/(^|\s)handle-sidebar-\S+/g) || []).join(' ');
    });
	
	$susbill.removeClass(function (index, className) {
      return (className.match(/(^|\s)susbill-sidebar-\S+/g) || []).join(' ');
    });
	// $outlinebtn.removeClass(function (index, className) {
      // return (className.match(/(^|\s)btn-outline-\S+/g) || []).join(' ');
    // });

    $appAdminWrap.addClass($(this).data('sidebar-class'));
    $btn.addClass('btn-'+$(this).data('sidebar-class'));
    $btn1.addClass('btn-'+$(this).data('sidebar-class'));
    $checkmark.addClass('checkmark-'+$(this).data('sidebar-class'));
    $radio.addClass('radio-'+$(this).data('sidebar-class'));
    $checkbox.addClass('checkmark-'+$(this).data('sidebar-class'));
    $paginationa.addClass('pagination-'+$(this).data('sidebar-class'));
    $eyeicon.addClass('icon-'+$(this).data('sidebar-class'));
    $th.addClass('th-'+$(this).data('sidebar-class'));
    $outlinebtn.addClass('outlinebtn-'+$(this).data('sidebar-class'));
    $susbill.addClass('susbill-'+$(this).data('sidebar-class'));
    $handle.addClass('handle-'+$(this).data('sidebar-class'));
    $sidebarColor.removeClass('active');
    $(this).addClass('active');
	
	color = $(this).data('sidebar-class');
	// save color to DB
	 $.ajax({	
		type: 'POST',	
		url    : "php/admin/color.php",
		data: "color="+$(this).data('sidebar-class'),
	 })
	 .done(function(response) {												//console.log(response); 
		if ( response.id == 'success' ) {					
			console.log("sucess");
		} else {
			console.log("not sucess");
		}
	  });
  }); 
  
  // Change Direction RTL/LTR
  $('#rtl-checkbox').change(function () {
    if (this.checked) {
      $html.attr('dir', 'rtl');
    } else {
      $html.attr('dir', 'ltr');
    }
  });
  var $themeLink = $('#gull-theme');
  initTheme('gull-theme');

  function initTheme(storageKey) {
    if (!localStorage) {
      return;
    }

    var fileUrl = localStorage.getItem(storageKey);

    if (fileUrl) {
      $themeLink.attr('href', fileUrl);
    }
  }

  $('.bootstrap-colors .color').on('click', function (e) {
    e.preventDefault();
    var color = $(this).attr('title');
    console.log(color);
    var fileUrl = '/assets/styles/css/themes/' + color + '.min.css';

    if (localStorage) {
      gullUtils.changeCssLink('gull-theme', fileUrl);
    } else {
      $themeLink.attr('href', fileUrl);
    }
  }); // Toggle customizer

  $('.handle').on('click', function (e) {
    $customizer.toggleClass('open');
  });
});

 function sitecolor(color) {
  // console.log('sitecolor');
  
  var $appAdminWrap = $(".app-admin-wrap");
  // var $html = $('html');
  // var $customizer = $('.customizer');
  var $sidebarColor = $('.sidebar-colors a.color'); // Change sidebar color
  var $btn = $('.card-header .btn'); // Change sidebar color
  var $btn1 = $('.btn.addws, .btn.fetchws'); // Change sidebar color
  var $checkmark = $('.checkmark'); // Change sidebar color
  var $radio = $('.radio'); // Change sidebar color
  var $checkbox = $('.checkbox'); // Change sidebar color
  var $outlinebtn = $('.pressable'); // Change sidebar color
  // var $outlinebtn = $('.btn'); // Change sidebar color
  var $handle = $('.handle'); // Change sidebar color
  var $susbill = $('div[class^="susbill"]'); // Change sidebar color
  var $paginationa = $('.pagination'); // Change sidebar color
  var $eyeicon = $('.card-footer .ul-btn__icon'); // Change sidebar color
  var $th = $('th'); // Change sidebar color

    $appAdminWrap.removeClass(function (index, className) {
      return (className.match(/(^|\s)sidebar-\S+/g) || []).join(' ');
    });

    $appAdminWrap.addClass(color);
    $btn.addClass('btn-'+color);
    $btn1.addClass('btn-'+color);
    $checkmark.addClass('checkmark-'+color);
    $radio.addClass('radio-'+color);
    $checkbox.addClass('checkmark-'+color);
    $paginationa.addClass('pagination-'+color);
    $eyeicon.addClass('icon-'+color);
    $th.addClass('th-'+color);
    $outlinebtn.addClass('outlinebtn-'+color);
    $handle.addClass('handle-'+color);
    $susbill.addClass('susbill-'+color);
    $sidebarColor.removeClass('active');
	


}
